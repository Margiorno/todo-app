<!DOCTYPE html>
<html lang="pl" xmlns:th="http://www.thymeleaf.org">
<body>

<div th:fragment="modal" class="modal fade" id="taskFormModal" tabindex="-1" aria-labelledby="taskFormModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="taskFormModalLabel"></h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Zamknij"></button>
            </div>
            <div class="modal-body">
                <form id="taskForm">
                    <input type="hidden" id="form-task-id" name="id"/>
                    <input type="hidden" id="form-team-id" name="teamId"/>

                    <div class="mb-3">
                        <label for="title" class="form-label">Title</label>
                        <input type="text" id="title" name="title" class="form-control" placeholder="e.g. Buy milk" />
                        <div class="text-danger mt-1 small" id="error-title"></div>
                    </div>

                    <div class="mb-3">
                        <label for="description" class="form-label">Description</label>
                        <textarea id="description" name="description" class="form-control" rows="3" placeholder="Task details"></textarea>
                    </div>

                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label for="priority" class="form-label">Priority</label>
                            <select id="priority" name="priority" class="form-select">
                                <option th:each="p : ${T(com.pm.todoapp.model.Priority).values()}" th:value="${p}" th:text="${p}"></option>
                            </select>
                        </div>
                        <div class="col-md-6 mb-3" id="status-field-wrapper" style="display: none;">
                            <label for="status" class="form-label">Status</label>
                            <select id="status" name="status" class="form-select">
                                <option th:each="s : ${T(com.pm.todoapp.model.Status).values()}" th:value="${s}" th:text="${s}"></option>
                            </select>
                        </div>
                    </div>

                    <div class="mb-3">
                        <label for="taskDate" class="form-label">Date</label>
                        <input type="date" id="taskDate" name="taskDate" class="form-control"/>
                        <div class="text-danger mt-1 small" id="error-taskDate"></div>
                    </div>

                    <fieldset class="mb-4">
                        <legend class="form-label">Hours</legend>
                        <div class="time-input-container mb-2">
                            <button type="button" class="btn btn-secondary btn-sm" id="startMinusBtn">-</button>
                            <input type="time" class="form-control" name="startTime" id="startTimeInput"/>
                            <button type="button" class="btn btn-secondary btn-sm" id="startPlusBtn">+</button>

                            <span class="mx-2">â€“</span>

                            <button type="button" class="btn btn-secondary btn-sm" id="endMinusBtn">-</button>
                            <input type="time" class="form-control" name="endTime" id="endTimeInput"/>
                            <button type="button" class="btn btn-secondary btn-sm" id="endPlusBtn">+</button>
                        </div>
                        <div class="range-container">
                            <div class="slider-track"></div>
                            <input type="range" min="0" max="1439" value="480" id="startRange"/>
                            <input type="range" min="0" max="1439" value="960" id="endRange"/>
                        </div>
                    </fieldset>

                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-primary" id="saveTaskBtn">Save</button>
            </div>
        </div>
    </div>
</div>

</body>
</html>